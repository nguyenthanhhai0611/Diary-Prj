:root{
  --pink-1: #ffeef6;
  --pink-2: #ffb6d5;
  --accent: #ff6fa7;
}
html,body{height:100%;}
.body-font {
  font-family: 'Quicksand', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
}
body{
  background: linear-gradient(180deg,var(--pink-1), #fff);
  font-family: 'Quicksand', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  color: #333;
}

/* Background decoration container */
#bg-decor{position:fixed; inset:0; z-index:0; pointer-events:none; overflow:visible}
#bg-decor svg.bg-blob{position:absolute; filter:blur(12px) saturate(1.08); opacity:0.6; transform-origin:center;}
#bg-decor .b1{width:1200px; height:auto; left:-10vw; top:-8vh; transform:rotate(-8deg);} 
#bg-decor .b2{width:900px; height:auto; right:-12vw; top:20vh; transform:rotate(6deg);} 
#bg-decor .b3{width:420px; height:auto; left:8vw; bottom:-6vh; transform:rotate(-12deg);} 
/* user-supplied photo: cover entire viewport and sit behind all content */
#bg-decor .dahlia-photo{
  position:fixed;
  inset:0;
  width:100vw;
  height:100vh;
  object-fit:cover;
  opacity:0.14;
  filter:blur(3px) saturate(1.02) contrast(1.02);
  transform:none;
  z-index:-3;
  pointer-events:none;
}

/* floral strips placed inside the letter card */
.letter-card .floral-corner{
  position:absolute;
  pointer-events:none;
  /* put the floral strip behind the main card content so it won't cover inputs */
  z-index:0;
  /* Softer, less-opaque decorative strip to blend with paper */
  opacity:0.72;
  /* gentle visual weight and a subtle shadow to lift the strip slightly */
  filter: saturate(0.98) contrast(0.98) drop-shadow(0 6px 10px rgba(111,30,60,0.03));
  width:34%;
  max-width:200px;
  height:auto;
  object-fit:contain;
  left:10px;
  bottom:8px;
  transform:rotate(-5deg) translateZ(0);
  transition: opacity 240ms ease, transform 240ms ease;
}

/* Slightly larger but still muted on very wide screens */
@media (min-width:1200px){
  .letter-card .floral-corner{width:30%; max-width:260px; opacity:0.68; left:14px; bottom:12px}
}

/* Mobile: keep the strip visible but more transparent and slightly larger proportionally */
@media (max-width:767px){
  .letter-card .floral-corner{width:48%; max-width:140px; opacity:0.62; left:6px; bottom:6px; transform:rotate(-4deg) scale(0.98)}
}

/* ensure main content sits above decor */
.navbar, main, #entries-list, .card, #petal-area{position:relative; z-index:2}

/* soft watermark rose (subtle) */
#bg-decor::after{content:''; position:absolute; right:6vw; bottom:4vh; width:360px; height:360px; background:radial-gradient(circle at 30% 30%, rgba(255,230,240,0.12), rgba(255,200,220,0.04)); border-radius:50%; transform:rotate(12deg); filter:blur(28px); z-index:1}

/* subtle paper texture overlay using inline SVG data-URI */
body::before{
  content:'';
  position:fixed; inset:0; z-index:-1; pointer-events:none; mix-blend-mode:multiply; opacity:0.045;
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='800' height='800'><filter id='n'><feTurbulence baseFrequency='0.8' numOctaves='2' stitchTiles='stitch'/><feColorMatrix type='saturate' values='0'/></filter><rect width='100%' height='100%' filter='url(%23n)' opacity='0.45' fill='%23f9f3f6'/></svg>");
  background-repeat:repeat; background-size:400px 400px; pointer-events:none;
}

/* ensure paper texture sits below main content but above blobs lightly */
.navbar, main, .card, #entries-list, #petal-area{position:relative; z-index:3}
.bg-pink{background:linear-gradient(90deg,var(--pink-2), #ffd8e8);}
.navbar-brand{font-weight:600;color:#6b1b3a}
.logo-rose{font-size:1.4rem}

/* Top-right soft quote */
.top-quote{
  position:fixed;
  top:14px;
  right:18px;
  z-index:6;
  pointer-events:none;
  font-family: 'Dancing Script', 'Quicksand', sans-serif;
  font-size:1.05rem;
  color: rgba(138,43,69,0.92);
  letter-spacing:0.3px;
  background: rgba(255,255,255,0.5);
  padding:6px 10px;
  border-radius:10px;
  box-shadow: 0 8px 22px rgba(111,30,60,0.06);
  backdrop-filter: blur(3px) saturate(1.02);
  line-height:1.1;
  opacity:0.98;
  transition: transform 220ms ease, opacity 220ms ease;
}

@media (min-width:1200px){
  .top-quote{font-size:1.15rem; top:16px; right:22px}
}

@media (max-width:767px){
  .top-quote{font-size:0.92rem; right:10px; top:10px; padding:4px 8px; opacity:0.92}
}

/* Auth panel styling (small dropdown panel) */
.auth-panel{
  position:fixed;
  top:66px; /* below navbar */
  right:18px;
  width:280px;
  max-width:calc(100% - 40px);
  background: linear-gradient(180deg,#fffdfa,#fff7fb);
  border-radius:12px;
  box-shadow:0 18px 48px rgba(111,30,60,0.09);
  padding:12px;
  z-index:20;
  display:none;
}
.auth-panel h6{font-family:'Dancing Script', 'Quicksand', sans-serif; margin:0 0 6px; color:#8a2b45}
.auth-panel .form-control{border-radius:10px}

@media (max-width:767px){
  .auth-panel{right:10px; top:56px; width:220px}
}

.card{border-radius:14px}
.btn-pink{background:var(--accent);color:white;border:none}
.btn-pink:hover{background:#ff4c86}

/* Prominent home button used on history page */
.btn-home{
  background: linear-gradient(90deg,var(--accent), #ff7aa0);
  color: #fff !important;
  border: none !important;
  padding: 8px 14px !important;
  border-radius: 14px !important;
  box-shadow: 0 10px 30px rgba(255,111,167,0.18);
  font-weight:700;
  transition: transform 140ms ease, box-shadow 140ms ease, opacity 140ms ease;
}
.btn-home:hover{ transform: translateY(-3px); box-shadow: 0 18px 40px rgba(255,111,167,0.22); opacity:0.98 }
.btn-home:active{ transform: translateY(-1px) }

/* Make the 'Xem thÃªm' preview button more prominent */
#view-more{
  background: linear-gradient(90deg, var(--accent), #ff7aa0);
  color: white !important;
  border: none !important;
  padding: 6px 12px !important;
  border-radius: 999px !important;
  box-shadow: 0 10px 30px rgba(255,111,167,0.14);
  transition: transform 160ms ease, box-shadow 160ms ease, opacity 160ms ease;
}
#view-more:hover{ transform: translateY(-3px); box-shadow: 0 18px 40px rgba(255,111,167,0.18); opacity:0.98 }

/* Make auth toggle (greeting / login) more visible in navbar */
#auth-toggle{
  background: linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
  color: #6b1b3a; /* darker text so the greeting stands out */
  border: 1px solid rgba(255,111,167,0.14);
  padding: 6px 10px;
  border-radius: 10px;
  font-weight:600;
  box-shadow: 0 6px 18px rgba(111,30,60,0.04);
}
#auth-toggle:hover{ background: linear-gradient(90deg,#fff8fb,#fff2f6); transform: translateY(-2px); }

/* When auth-toggle shows greeting (user logged in), highlight it with pink background */
#auth-toggle.logged-in{
  background: linear-gradient(90deg, var(--accent), #ff7aa0);
  color: white;
  border: none;
  box-shadow: 0 12px 30px rgba(255,111,167,0.14);
}

/* Letter style for the form */
.letter-card{background:linear-gradient(180deg,#fffdfa,#fff7fb); border:1px solid rgba(255,111,167,0.12); padding:18px; border-radius:16px;}
.letter-card{background:linear-gradient(180deg,#fffdfa,#fff7fb); padding:22px; border-radius:26px; position:relative; box-shadow: 0 10px 30px rgba(111,30,60,0.06), inset 0 -2px 0 rgba(255,255,255,0.7); border: none; transition: transform 280ms ease, box-shadow 280ms ease;}
.letter-card::before{content:''; position:absolute; right:22px; top:-18px; width:64px; height:64px; background:linear-gradient(135deg, rgba(255,255,255,0.9), rgba(255,230,240,0.28)); transform:rotate(14deg); border-radius:8px; box-shadow:0 10px 20px rgba(111,30,60,0.05); opacity:0.95}
.letter-card::after{content:''; position:absolute; left:8px; right:8px; bottom:6px; height:18px; border-radius:12px; box-shadow: inset 0 -10px 24px rgba(250,220,230,0.02); pointer-events:none}
.letter-salutation{font-family:'Dancing Script', 'Quicksand', sans-serif; font-size:2.05rem; color:#8a2b45; margin:0 0 6px; letter-spacing:0.6px}
.letter-intro{margin-top:0;margin-bottom:12px}
.letter-form .form-control{
  border-radius:14px;
  /* warmer, paper-like tint that still reads pink and soft */
  background: linear-gradient(180deg, #fff6f7 0%, #fff3f5 100%);
  border:1px solid rgba(220,170,190,0.45);
  padding:14px;
  /* subtle paper inner texture feel using light inset shadows */
  box-shadow: inset 0 8px 18px rgba(255,255,255,0.6), inset 0 -6px 12px rgba(0,0,0,0.02);
  transition: box-shadow 200ms ease, transform 200ms ease, background 220ms ease, border-color 220ms ease;
}
.letter-form textarea.form-control{min-height:170px}
.letter-card .card-body{padding:30px}

.letter-card:hover{transform:translateY(-6px); box-shadow: 0 22px 48px rgba(111,30,60,0.09)}

/* input focus */
.letter-form .form-control:focus{outline:none; box-shadow: 0 0 0 6px rgba(255,111,167,0.07), inset 0 8px 18px rgba(255,255,255,0.6); border-color: rgba(255,111,167,0.5); background: linear-gradient(180deg, #fff8f9 0%, #fff5f7 100%);}

/* subtle torn edge look at bottom */
.letter-card .card-body{background-image: linear-gradient(180deg, transparent 85%, rgba(255,230,240,0.02) 100%);}

/* stitch (dashed) border element positioned inside card */
.letter-stitch{position:absolute; inset:12px; border-radius:18px; pointer-events:none; z-index:3}
.letter-stitch::before{content:''; position:absolute; inset:0; border-radius:18px; border:2px dashed rgba(255,111,167,0.18); box-shadow:0 2px 0 rgba(255,255,255,0.5) inset}

/* ensure content stacking inside card: card body sits above decorative strip */
.letter-card .card-body{position:relative; z-index:2}
.letter-card .card-body > *{position:relative}

/* letter open animation */
@keyframes letterOpen{
  0%{transform:translateY(-6px) rotateX(50deg) scaleY(0.96); opacity:0}
  60%{transform:translateY(2px) rotateX(6deg) scaleY(1.01); opacity:1}
  100%{transform:none; opacity:1}
}
/* slower, gentler open animation */
.letter-card.open{animation:letterOpen 1400ms cubic-bezier(0.22,0.8,0.2,1) both; transform-origin:top center;}

/* soften input placeholders and labels */
.form-label{font-weight:600; color:#7a2a46}
.form-control::placeholder{color:#b77a94}

/* History headings styling to match the pink letter-paper theme */
.history-heading, .history-page-title{
  font-family: 'Dancing Script', 'Quicksand', sans-serif;
  color: #7a1e3a;
  letter-spacing: 0.6px;
  display:inline-flex;
  align-items:center;
  gap:10px;
}
.history-heading{
  font-size:1.25rem;
  font-weight:700;
}
.history-page-title{
  font-size:1.6rem;
  font-weight:700;
  margin-bottom:0.6rem;
}
.history-heading::before, .history-page-title::before{
  content: 'ðŸŒ¸';
  display:inline-block;
  font-size:1.15rem;
  transform:translateY(-1px);
}
.history-heading::after, .history-page-title::after{
  content: '';
  display:inline-block;
  width:48px;
  height:2px;
  margin-left:8px;
  background: linear-gradient(90deg, rgba(255,111,167,0.45), rgba(255,186,209,0.18));
  border-radius:2px;
  vertical-align:middle;
}

@media (max-width:767px){
  .history-heading{font-size:1.05rem}
  .history-page-title{font-size:1.3rem}
  .history-heading::after, .history-page-title::after{width:34px}
}

/* Entry excerpt / toggle styling */
.entry-content-preview{color:#5a2030;line-height:1.45}
.entry-content-full{color:#4a1728;line-height:1.6}
.btn-readmore{color:var(--accent);padding-left:0}
.btn-readmore:hover{text-decoration:underline}

/* Icon picker */
.icon-btn{min-width:40px; padding:6px 8px; font-size:18px}
.icon-btn.selected{border-color:var(--accent); background:rgba(255,111,167,0.08)}
.entry-icon{margin-right:8px;font-size:1.05rem}

/* Music toggle button in navbar */
#music-toggle{background:transparent;border:1px solid rgba(255,255,255,0.25); color:white}
#music-toggle:hover{background:rgba(255,255,255,0.06)}
#music-toggle:focus{outline:none; box-shadow:0 0 0 3px rgba(255,111,167,0.15)}

#entries-list .entry-card{margin-bottom:12px}
.entry-card .entry-date{font-size:0.85rem;color:#8a2b45}

/* Entry image styling */
.entry-photo{display:block; max-width:100%; height:auto; border-radius:12px; margin-bottom:10px; box-shadow:0 8px 20px rgba(111,30,60,0.06)}

/* Framed corner photo for entry cards */
/* Framed photo wrapper that sits inside the card and flows with content (no overlay)
   Uses float on wide screens and becomes full-width block on mobile */
.entry-photo-frame{
  float:right;
  width:120px;
  height:120px;
  margin-left:14px;
  margin-bottom:8px;
  border-radius:12px;
  overflow:hidden;
  border:6px solid rgba(255,255,255,0.95); /* soft paper-like frame */
  box-shadow: 0 10px 30px rgba(111,30,60,0.14), inset 0 2px 0 rgba(255,255,255,0.6);
}
.entry-photo-frame img{ width:100%; height:100%; object-fit:cover; display:block; }

@media (min-width:1200px){
  .entry-photo-frame{ width:140px; height:140px; margin-left:18px; }
}

@media (max-width:767px){
  .entry-photo-frame{ float:none; width:100%; height:auto; margin-left:0; border-radius:12px; border-width:5px; }
  .entry-photo-frame img{ height:auto; }
}

/* Wrapper for entry card so we can position external controls */
.entry-card-wrap{ position:relative; margin-bottom:12px; }

/* Outside delete button styling */
.btn-delete-outside{
  position:absolute;
  right:-10px;
  top:12px;
  z-index:6;
  border-radius:10px;
  padding:6px 10px;
  background: transparent;
}
.btn-delete-outside:hover{ transform: translateY(-2px); }

@media (max-width:767px){
  .btn-delete-outside{ position:static; display:inline-block; margin-top:8px; }
}

/* Navbar sign-out button styled to match theme and be more visible */
#nav-signout{
  background: linear-gradient(90deg,var(--accent), #ff7aa0);
  color:#fff !important;
  border:none !important;
  padding:6px 10px !important;
  border-radius:12px !important;
  font-weight:700;
  box-shadow: 0 10px 30px rgba(255,111,167,0.14);
  transition: transform 140ms ease, box-shadow 140ms ease, opacity 140ms ease;
}
#nav-signout:hover{ transform: translateY(-3px); box-shadow: 0 18px 40px rgba(255,111,167,0.22); opacity:0.98 }
#nav-signout:active{ transform: translateY(-1px) }
#nav-signout:focus{ outline:none; box-shadow:0 0 0 6px rgba(255,111,167,0.12) }

@media (max-width:767px){
  #nav-signout{ padding:5px 8px !important; font-size:0.92rem }
}

/* Top-k preview styling */
.preview-item{display:flex;align-items:center;justify-content:space-between;padding:10px 12px;border-radius:12px;margin-bottom:10px;background:linear-gradient(180deg, #fffdfa, #fff7fb);box-shadow:0 6px 18px rgba(111,30,60,0.04);border:1px solid rgba(255,111,167,0.06)}
.preview-left{display:flex;align-items:center;gap:12px}
.preview-icon{width:44px;height:44px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:20px;background:linear-gradient(180deg, rgba(255,111,167,0.06), rgba(255,111,167,0.02));border:1px solid rgba(255,111,167,0.08);box-shadow:0 6px 12px rgba(111,30,60,0.03)}
.preview-title{font-weight:600;color:#6b1b3a;font-family:'Quicksand', 'Dancing Script', sans-serif;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:54ch}
.preview-meta{font-size:0.82rem;color:#a24a63}
.preview-item a{color:inherit;text-decoration:none}
.preview-item:hover{transform:translateY(-4px);box-shadow:0 14px 34px rgba(111,30,60,0.08)}

/* Small helper for history anchor link style */
.history-anchor{color:var(--accent);text-decoration:none;font-weight:600}

/* Petal / rose floating effect */
#petal-area{position:fixed;left:0;top:0;right:0;bottom:0;pointer-events:none;overflow:hidden}
.petal{position:absolute;font-size:22px;opacity:0.9;transform:translateY(-10vh);filter:drop-shadow(0 2px 2px rgba(0,0,0,0.08));}

@keyframes floatUp{
  /* reversed: petals start above the viewport and fall down */
  0%{transform:translateY(-20vh) rotate(0deg); opacity:0}
  10%{opacity:1}
  100%{transform:translateY(120vh) rotate(360deg); opacity:0}
}

.floating{animation-name:floatUp; animation-iteration-count:infinite; animation-timing-function:linear}

/* Responsive tweaks */
@media (max-width:767px){
  .card{border-radius:10px}
}

/* Music enable banner (autoplay fallback) */

